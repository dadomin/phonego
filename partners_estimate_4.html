<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>내가 받은 요청 - 고객요청사항2,3</title>
	<link rel="stylesheet" href="fontawesome/css/all.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.6.0.js"></script>
</head>
<body>
    <div id="wrapper">

        <div id="wrap">


            <section id="estimate">
                
                <header>
                    <button id="back-btn" onclick="history.back();"><img src="img/left.png" alt=""></button>
                    <button id="menu-btn"><i class="fas fa-bars"></i></button>
                </header>
                <div class="partners-estimate-list">
                    <h2>고객 요청 사항.</h2>
                    <p class="series-idx">20210202R001</p>
                    <div class="request-success-detail">
                        <div class="detail-txt">
                            <h2>고객 정보</h2>
                            <div>
                                <span>이름</span>
                                <p>고홍석</p>
                            </div>
                            <div>
                                <span>견적 현황</span>
                                <p>4 / 10</p>
                            </div>
                            <div>
                                <span>사장님과의 대략적인 거리</span>
                                <p>13.81 Km</p>
                            </div>
                        </div>

                        <div class="detail-txt">
                            <h2>상세 요청 내역</h2>
                            <div>
                                <span>제조사</span>
                                <p>삼성</p>
                            </div>
                            <div>
                                <span>기종</span>
                                <p>갤럭시 노트 7</p>
                            </div>
                            <div>
                                <span>색상</span>
                                <p>블랙</p>
                            </div>
                            <div class="dot-line"></div>
                            <div>
                                <span>흼아 수리 방식</span>
                                <p>매장 방문 수리</p>
                            </div>
                            <div>
                                <span>파손 정보</span>
                                <p>뒷판 파손</p>
                            </div>
                            <div>
                                <span>파손 내용 및 요청 메세지</span>
                                <p>뒷면 유리가 파손되었습니다. 다른 부분은 멀쩡해요. 깨끗하게 수리하고 싶어요~</p>
                            </div>
                            <div>
                                <span>참고이미지</span>
                                <div class="estimate-imgs">
                                    <div><img src="img/phone-status1.png" alt=""></div>
                                    <div><img src="img/phone-status2.png" alt=""></div>
                                </div>
                            </div>
                        </div>

                        <button id="go-next-estimate" class="agree" onclick="location.href='request_repair_8.html'">
                            <img src="img/up-white.png" alt="" width="22px">
                            <p>견적보내기</p>
                        </button>
                    </div>
                
                    
                   
                </div>
               
                <div class="partners-estimate-form">
                    <div class="back"></div>
                    <div class="psf">
                        <button class="exit-btn"><img src="img/exit-white.png" alt=""></button>
                        <h2>견적 작성하기</h2>
                        <p>예상 견적가를 입력해주세요.</p>
                        <div class="estimate-form-number">
                            <input type="nubmer" placeholder="0" readonly>
                            <p>원</p>
                        </div>
                        <table>
                            <tr>
                                <td><p class="number-input">1</p></td>
                                <td><p class="number-input">2</p></td>
                                <td><p class="number-input">3</p></td>
                            </tr>
                            <tr>
                                <td><p class="number-input">4</p></td>
                                <td><p class="number-input">5</p></td>
                                <td><p class="number-input">6</p></td>
                            </tr>
                            <tr>
                                <td><p class="number-input">7</p></td>
                                <td><p class="number-input">8</p></td>
                                <td><p class="number-input">9</p></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><p class="number-input">0</p></td>
                                <td class="number-input-cancle"><img src="img/back.png" alt=""></td>
                            </tr>
                        </table>
                        <button class="disagree" id="partners-estimate-form-next">다음</button>
                    </div>
                </div>
                
                
            </section>

        </div>
    </div>

    <script>
        let number = "";
        $(".number-input").on("click", (e)=>{
            if(number.substr(0,1)==0) {
                let slice = number.toString().substr(1,number.length);
                console.log(slice);
                number = slice;
            }
            number += e.target.innerHTML;
            $(".estimate-form-number > input").val(number);
            $("#partners-estimate-form-next").removeClass();
            if(!checkEmpty($(".estimate-form-number > input").val())){
                $("#partners-estimate-form-next").addClass("disagree");
            }
        });
        $(".number-input-cancle").on("click", (e)=>{
            let slice = number.toString().substr(0,number.length-1);
            number = slice;
            $(".estimate-form-number > input").val(number);
            $("#partners-estimate-form-next").removeClass();
            if(!checkEmpty($(".estimate-form-number > input").val())){
                $("#partners-estimate-form-next").addClass("disagree");
            }
        });
        $(document).on("keypress", ".estimate-form-number> input",(e)=>{
            e.preventDefault();
            if(event.key >= 0 && event.key <= 9) {
                console.log(e);
                console.log(e.originalEvent.key);
                number += e.originalEvent.key;
                $(".estimate-form-number > input").val(number);
                $("#partners-estimate-form-next").removeClass();
                if(!checkEmpty($(".estimate-form-number > input").val())){
                    $("#partners-estimate-form-next").addClass("disagree");
                }
            }
            
        });
        $(document).keydown(function(e){   
            if(e.target.nodeName != "INPUT" && e.target.nodeName != "TEXTAREA"){       
                if(e.keyCode === 8){   
                return false;
                }
            }
        });
        function checkEmpty(e) {
            console.log(e);
            if(e == ""){
                return false;
            }else {
                return true;
            }
            
        }
    </script>

</body>
</html>

