<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>견적 요청 - 내 폰 수리하기6~7</title>
	<link rel="stylesheet" href="fontawesome/css/all.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.6.0.js"></script>
</head>
<body>
    <div id="wrapper">

        <div id="wrap">


            <section id="request">
            
                <header>
                    <button id="back-btn" onclick="history.back();"><img src="img/left.png" alt=""></button>
                    <p>내 폰 수리하기</p>
                    <button id="close-btn"><img src="img/exit.png" alt=""></button>
                </header>

                <canvas id="canvas" width="300" height="15"></canvas>

                <div class="request-agree">
                    <h2>휴대폰 기종을 <br> 선택해 주세요.</h2>
                    
                    <div class="request-various-btns">
                        <button class="uncheck">아이폰 12 시리즈</button>
                        <button class="uncheck">아이폰 11 시리즈</button>
                        <button class="uncheck">아이폰 XS 시리즈</button>
                        <button class="uncheck">아이폰 X 시리즈</button>
                        <button class="uncheck">아이폰 8 시리즈</button>
                        <button class="uncheck">아이폰 7 시리즈</button>
                        <button class="uncheck">아이폰 6 시리즈</button>
                        <button class="uncheck">아이폰 5 시리즈</button>
                        <button class="uncheck">아이폰 4 시리즈</button>
                        <button class="uncheck">아이폰 SE 시리즈</button>
                        <button class="uncheck">기타</button>
                    </div>

                    <button id="go-next-agree" class="disagree" disabled onclick="location.href='request_repair_2.html'">동의하고 진행하기</button>
                    
                </div>
                
            </section>

        </div>
    </div>

    
<script>
    let how = 30;
    var canvas = document.getElementById('canvas');
    canvas.width = canvas.parentElement.scrollWidth;
    if(canvas.getContext) {
        var ctx = canvas.getContext('2d');
        ctx.fillStyle = "#318AF3";
        ctx.fillRect(0,0,canvas.width*`${how}`/100,2);
        ctx.font = '10px sans-serif';
        ctx.fillText(`${how}%`,canvas.width*`${how}`/100- 10,15);
    }
   

    // 약관과 다음진행 버튼체크
    function check(){
        $("#go-next-agree").removeClass();
        $("#go-next-agree").addClass('agree');
        $("#go-next-agree").attr("disabled", false);
    }

    // 버튼 클릭시 폼 나오게하기
    $(".request-input-btn > h3").on("click",(e)=>{
        e.target.parentNode.click();
    })
    $(".request-input-btn").on("click", (e)=>{
       
        if($(e.target).children(".request-hidden").css( 'display')==='none'){
            $(e.target).children(".request-hidden").show();
            if($(e.target).siblings().children(".request-hidden").css('display') === 'block'){
                $(e.target).siblings().children(".request-hidden").hide();
            }
        }else {
            $(e.target).children(".request-hidden").hide();
        }

    });


    //제품별 클릭시 체크 
    $("input[name=brand]").on("change", (e)=>{
        let list = document.getElementsByName("brand");
        let idx = $("input[name=brand]").index(e.target);
        list.forEach((item, n)=>{
            if (n == idx) {
                $(".request-button-form > label").eq(n).removeClass();
                $(".request-button-form > label").eq(n).addClass('check');
            } else {
                $(".request-button-form > label").eq(n).removeClass();
                $(".request-button-form > label").eq(n).addClass('uncheck');
            }
        });
        check();
    });

    //IMEI 조회 입력 설정
    $("input[type=text]").on("input", (e)=>{
        $(".request-input-form").css("border-bottom", "1.3px solid #318AF3");
    });
    $("input[type=text]").on("focusout", (e)=>{
        if(e.target.value=="") {
            $(".request-input-form").css("border-bottom", "1.3px solid #9f9f9f");
        }
    })

    $(".loading-form").slideUp();
    $(".result-form").slideUp();
   // 조회하기 시 로딩 후 화면 띄우기
    $("#lookup-btn").on("click", (e)=>{
        $(".request-input-form").css("border-bottom", "1.3px solid #FF5749");
        $(".warning-txt").show();
    });

</script>

</body>
</html>

